/**
 * Testing utilities for Raindrop applications
 *
 * This module provides mock implementations and factory functions for all Raindrop bindings
 * for use in tests. Import these in your test files to create isolated
 * test environments without needing real Cloudflare Workers infrastructure.
 *
 * @example
 * ```typescript
 * import { createMockEnv, createMockActorState } from '@liquidmetal-ai/raindrop-framework/testing';
 *
 * test('my handler', async () => {
 *   const env = createMockEnv();
 *   const state = createMockActorState();
 *   const actor = new MyActor(state, env);
 *   // ... test actor methods
 * });
 * ```
 */
import type { ActorId, ActorState, ActorStorage, ExecutionContext, KvCache, Logger, Tracer, Bucket, Queue, Message, MessageBatch, App } from '../index.js';
/**
 * In-memory implementation of ActorStorage for testing
 */
export declare class MockActorStorage implements ActorStorage {
    private data;
    private alarm;
    get<T = unknown>(key: string): Promise<T | undefined>;
    get<T = unknown>(keys: string[]): Promise<Map<string, T>>;
    list<T = unknown>(options?: {
        start?: string;
        startAfter?: string;
        end?: string;
        prefix?: string;
        reverse?: boolean;
        limit?: number;
    }): Promise<Map<string, T>>;
    put<T>(key: string, value: T): Promise<void>;
    put<T>(entries: Record<string, T>): Promise<void>;
    delete(key: string): Promise<boolean>;
    delete(keys: string[]): Promise<number>;
    deleteAll(): Promise<void>;
    getAlarm(): Promise<number | null>;
    setAlarm(scheduledTime: number | Date): Promise<void>;
    deleteAlarm(): Promise<void>;
    clear(): void;
    getAllData(): Map<string, unknown>;
}
/**
 * Mock implementation of ActorState for testing
 */
export declare class MockActorState implements ActorState {
    readonly storage: MockActorStorage;
    readonly id: ActorId;
    private waitUntilPromises;
    constructor(id?: string, storage?: MockActorStorage);
    waitUntil(promise: Promise<unknown>): void;
    blockConcurrencyWhile<T>(callback: () => Promise<T>): Promise<T>;
    flushWaitUntil(): Promise<void>;
}
/**
 * Mock implementation of ExecutionContext for testing
 */
export declare class MockExecutionContext implements ExecutionContext {
    private promises;
    waitUntil(promise: Promise<unknown>): void;
    flushWaitUntil(): Promise<void>;
}
/**
 * Creates a mock KvCache using vitest mocks
 * All methods are vi.fn() which can be customized per test
 */
export declare function createMockKvCache(): KvCache;
/**
 * Creates a mock Logger using vitest mocks
 * All methods are vi.fn() which can be customized per test
 */
export declare function createMockLogger(): Logger;
/**
 * Creates a mock Tracer using vitest mocks
 */
export declare function createMockTracer(): Tracer;
/**
 * Creates a mock Bucket using vitest mocks
 */
export declare function createMockBucket(): Bucket;
/**
 * Creates a mock Queue using vitest mocks
 * Includes helpers for creating mock Message and MessageBatch objects
 */
export declare function createMockQueue<Body = unknown>(): Queue<Body> & {
    createMockMessage: (body: Body, id?: string) => Message<Body>;
    createMockMessageBatch: (bodies: Body[], queueName?: string) => MessageBatch<Body>;
};
/**
 * Creates a mock Env object with all standard bindings
 *
 * @param overrides Partial Env object to override defaults
 * @returns Mock Env object for testing
 *
 * @example
 * ```typescript
 * const env = createMockEnv({
 *   MY_SMARTBUCKET: createMockBucket(),
 *   MY_CACHE: createMockKvCache(),
 * });
 * ```
 */
export declare function createMockEnv<T extends Record<string, unknown> = Record<string, unknown>>(overrides?: T): {
    _raindrop: {
        app: App;
    };
    logger: Logger;
    tracer: Tracer;
    mem: KvCache;
} & T;
/**
 * Creates a mock ActorState for testing Actor handlers
 *
 * @param id Optional actor ID (defaults to 'mock-actor-id')
 * @param storage Optional MockActorStorage instance
 * @returns MockActorState instance
 *
 * @example
 * ```typescript
 * const state = createMockActorState('my-actor-1');
 * const actor = new MyActor(state, env);
 * ```
 */
export declare function createMockActorState(id?: string, storage?: MockActorStorage): MockActorState;
/**
 * Creates a mock ExecutionContext for testing Service and Task handlers
 *
 * @returns MockExecutionContext instance
 *
 * @example
 * ```typescript
 * const ctx = createMockExecutionContext();
 * const service = new MyService(ctx, env);
 * ```
 */
export declare function createMockExecutionContext(): MockExecutionContext;
//# sourceMappingURL=index.d.ts.map